{% extends "base.html" %}
{% block content %}
<div class="auth-wrapper">
  <div class="auth-card">
    <h2 style="margin:0 0 0.5rem;">Reset your password</h2>
    <p style="margin:0 0 1rem;color:var(--muted);">Enter a new password for your TheoChat account.</p>
    <div style="max-width:420px;margin:0 auto;">
      <div style="padding:1.25rem;border:1px solid var(--border);border-radius:10px;background:var(--card);">
        {% if error %}
          <p style="margin:0 0 0.75rem;color:#b91c1c;font-size:0.95rem;">{{ error }}</p>
          <p style="margin:0;font-size:0.9rem;"><a href="{{ url_for('forgot_password') }}">Request a new reset link</a></p>
        {% elif token %}
          <form method="post" action="{{ url_for('reset_password') }}" style="margin:0;">
            <input type="hidden" name="token" value="{{ token }}"/>
            <label style="display:block;margin-bottom:0.85rem;font-size:0.95rem;">
              <span style="display:block;margin-bottom:0.35rem;">New password</span>
              <input type="password" name="password" required autocomplete="new-password" style="display:block;width:100%;padding:0.5rem;border-radius:6px;border:1px solid #d1d5db;"/>
            </label>
            <label style="display:block;margin-bottom:0.85rem;font-size:0.95rem;">
              <span style="display:block;margin-bottom:0.35rem;">Confirm new password</span>
              <input type="password" name="confirm_password" required autocomplete="new-password" style="display:block;width:100%;padding:0.5rem;border-radius:6px;border:1px solid #d1d5db;"/>
            </label>
            <div style="text-align:center;">
              <button class="primary" type="submit" style="padding:0.5rem 1rem;border-radius:6px;background:#2563eb;color:#fff;border:1px solid #2563eb;display:inline-block;">Reset password</button>
            </div>
          </form>
        {% else %}
          <p style="margin:0 0 0.75rem;color:#b91c1c;font-size:0.95rem;">This password reset link is invalid or has expired.</p>
          <p style="margin:0;font-size:0.9rem;"><a href="{{ url_for('forgot_password') }}">Request a new reset link</a></p>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
